<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>My Light in the Dark</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;800&family=Poppins:wght@600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root {
      --match-x: -9999px;
      --match-y: -9999px;
    }

    body {
      background-color: #000;
      color: #000;
      font-family: 'Inter', sans-serif;
      min-height: 200vh;
      cursor: none;
      overflow-x: hidden;
      letter-spacing: 0.1rem;
      touch-action: manipulation;
    }

    .content-container {
      position: relative;
      padding: 8rem 3rem;
      max-width: 600px;
      margin: 0 auto;
    }

    .content-dark { position: relative; z-index: 1; }

    .content-light {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      color: #ffffff;
      z-index: 2;
      mask-image: radial-gradient(
        circle at var(--match-x) var(--match-y),
        rgba(255,255,255,1) 0%,
        rgba(255,255,255,0.95) 8%,
        rgba(255,255,255,0.8) 18%,
        rgba(255,255,255,0.55) 32%,
        rgba(255,255,255,0.28) 55%,
        rgba(255,255,255,0.12) 75%,
        rgba(255,255,255,0) 100%
      );
      -webkit-mask-image: radial-gradient(
        circle at var(--match-x) var(--match-y),
        rgba(255,255,255,1) 0%,
        rgba(255,255,255,0.95) 8%,
        rgba(255,255,255,0.8) 18%,
        rgba(255,255,255,0.55) 32%,
        rgba(255,255,255,0.28) 55%,
        rgba(255,255,255,0.12) 75%,
        rgba(255,255,255,0) 100%
      );
      pointer-events: none;
    }

    .title {
      text-align: center;
      font-size: 3rem;
      font-weight: 700;
      letter-spacing: 0.2rem;
      padding-bottom: 2rem;
    }

    .text-body { font-weight: 400; }
    
  #matchbox .side-text-vertical {
  position: absolute;
  top: 8px;
  right: 8px;                  /* place on the right edge inside the box */
  writing-mode: vertical-rl;   /* letters stacked top->bottom */
  text-orientation: upright;   /* letters remain upright */
  font-family: 'Inter', sans-serif;
  font-size: 12px;
  font-weight: 10000;
  color: #222;
  pointer-events: none;
  z-index: 20;
}

    #animation-container {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%,-50%);
      z-index: 30;
      opacity: 1;
      transition: opacity 1s ease-in-out;
      pointer-events: none;
    }

    #matchbox {
      position: relative;
      width: 120px;
      height: 90px;
      background: #EBE8E2;
      border-radius: 8px;
      box-shadow: 0 6px 8px rgba(0,0,0,0.2), inset 0 0 5px rgba(255,255,255,0.5);
      border: 1px solid #ccc;
      overflow: hidden;
    }
    
    #matchbox::after {
  content: "";
  position: absolute;
  left: -10px;
  right: -10px;
  bottom: 0px;
  height: 22px;
  background-color: rgba(0,0,0,0.3); /* subtle gray line */
  pointer-events: none;
  z-index: 2;
}



    /* Sputnik label inside box */
    #sputnik-label {
      position: absolute;
      top: 6px;
      left: 12px;
      width: calc(100% - 24px);
      height: 60%;
      background:
        radial-gradient(circle at 20% 50%, #e6e6e6 15%, transparent 16%), /* moon */
        linear-gradient(135deg, rgba(90,134,165,0.2) 25%, transparent 25%) 0 0/12px 12px,
        linear-gradient(-135deg, rgba(90,134,165,0.2) 25%, transparent 25%) 0 0/12px 12px,
        linear-gradient(135deg, #5a86a5 0%, #3a5f7d 100%);
      border-radius: 4px;
      overflow: visible;
      z-index: 2;
    }

    /* Antennas: 3 lines coming from right side */
    .antenna {
      position: absolute;
      width: 2px;
      height: 40px;
      background: #e6e6e6 15%;
      top: 60%;
      left: 20%;
      transform-origin: top left;
      z-index: 0; /* behind the circle */
    }
    .antenna.middle { transform: rotate(-90deg) translateX(3px); }
    .antenna.top    { transform: rotate(-75deg) translateX(-4px); }
    .antenna.bottom { transform: rotate(-105deg) translateX(10px); }

    /* black crisscross strike strip */
    #strike-strip {
      position: absolute;
      bottom: 3.5px;
      left: 10px;
      width: calc(100% - 20px);
      height: 14px;
      background-color: #333;
      background-image: 
        linear-gradient(45deg, rgba(180,180,180,0.25) 25%, transparent 25%),
        linear-gradient(-45deg, rgba(180,180,180,0.25) 25%, transparent 25%),
        linear-gradient(45deg, transparent 75%, rgba(180,180,180,0.25) 75%),
        linear-gradient(-45deg, transparent 75%, rgba(180,180,180,0.25) 75%);
      background-size: 6px 6px;
      border-radius: 6px;
      box-shadow: inset 0 2px 4px rgba(0,0,0,0.5);
      z-index: 5;
    }

    #match-container {
      position: fixed;
      top:70px; 
      left:50px;
      z-index: 50;
      pointer-events:none;
      transform-origin: bottom center;
    }

    #match-aura {
      position: absolute;
      top: 0;
      left: 0;
      width: 400px;
      height: 400px;
      border-radius: 50%;
      background: radial-gradient(
        circle,
        rgba(255, 232, 8, 0.35) 0%,     
        rgba(255, 206, 0, 0.32) 40%,    
        rgba(255, 154, 0, 0.28) 70%,    
        rgba(255, 90, 0, 0.22) 85%,     
        rgba(0, 0, 0, 0) 100%           
      );
      filter: blur(28px);
      opacity: 0;
      transition: opacity 0.6s ease-in-out;
      transform: translate(-50%,-50%);
      z-index: 45;
      pointer-events: none;
      box-shadow: 0 0 120px 40px rgba(255, 180, 40, 0.08);
    }

    .flame-lit ~ #match-aura { opacity: 1; }

    .match-stick {
      width: 8px;
      height: 60px;
      background: #A36A00;
      border-radius: 4px;
      transform-origin: bottom center;
      position: relative;
      background-image: linear-gradient(to top, #7d5b1d, #a36a00, #d69800);
      box-shadow: inset 0 0 5px rgba(0,0,0,0.3);
      z-index: 50;
    }

    .match-stick::before {
      content:'';
      position:absolute;
      top:-12px;
      left:-2px;
      width:12px; height:12px;
      background: radial-gradient(circle, #ff3f3f 0%, #f07e5f 70%, #cc5f41);
      border-radius:50%;
    }

    .match-stick::after {
      content:'';
      position:absolute;
      top:-30px;
      left:-2px;
      width:12px; height:30px;
      background: linear-gradient(to top, #ff9a00, #ffd000 40%, #ff4500);
      border-radius: 50% 50% 30% 30% / 100% 100% 50% 50%;
      opacity: 0;
      transform-origin: bottom center;
      transition: opacity 0.3s ease-in-out;
    }

    .flame-lit .match-stick::after {
      opacity: 1;
      animation: flame-flicker 0.6s infinite alternate;
      filter: drop-shadow(0 0 12px rgba(255,232,8,0.9));
    }

      #sparks {
      position: absolute;
      top: -12px;
      left: -4px;
      width: 16px; 
      height: 16px;
      pointer-events: none;
      z-index: 45;
    }

    .spark {
      position: absolute;
      width: 3px; 
      height: 3px;
      background: radial-gradient(circle, #ffff00 0%, #ff6600 70%, #ff0000 100%);
      border-radius: 50%;
      opacity: 1;
      animation: spark-move 1.2s ease-out forwards;
      box-shadow: 0 0 6px rgba(255, 255, 0, 0.8);
    }

    @keyframes spark-move {
      0% { 
        transform: translate(0, 0) scale(1); 
        opacity: 1; 
      }
      30% { 
        transform: translate(var(--dx), var(--dy)) scale(0.8); 
        opacity: 0.9; 
      }
      100% { 
        transform: translate(calc(var(--dx) * 2), calc(var(--dy) * 2)) scale(0); 
        opacity: 0; 
      }
    }

    .strike-animation { 
  animation: strike-match 2.5s ease-in-out forwards; /* slower strike */
}

.strike-animation { 
  animation: strike-match 3s ease-in-out forwards; /* slower and longer */
}

.strike-animation { 
  animation: strike-match 2.5s ease-in-out forwards; /* slower strike */
}

 @keyframes strike-match {
      0% { transform: translate(calc(100vw - 120px), calc(50vh - 180px)) rotate(0deg); }
      50% { transform: translate(calc(50vw - 120px), calc(50vh - 35px)) rotate(-20deg); }
      80% { transform: translate(calc(50vw - -20px), calc(50vh - 30px)) rotate(-5deg); }
      100% { transform: translate(calc(50vw - -1px), calc(50vh - -1px)) rotate(9deg); }
    } /* fix the positioning and adaptability to other devices and browsers */




    @keyframes flame-flicker {
      0%   { transform: scaleY(1) scaleX(1); opacity: 0.9; }
      33%  { transform: scaleY(1.1) scaleX(1.05); opacity: 1; }
      66%  { transform: scaleY(0.95) scaleX(0.98); opacity: 0.9; }
      100% { transform: scaleY(1.05) scaleX(1.02); opacity: 0.95; }
    }

    @media (max-width: 768px) {
      .title { font-size: 2rem; }
      .content-container { padding: 4rem 2rem; }
    }

    @media (max-width: 480px) {
      .content-container { padding: 4rem 1.5rem; }
    }
  </style>
</head>
<body>
  <div id="animation-container">
    <div id="matchbox">
      <div id="sputnik-label">
        <div class="antenna middle"></div>
        <div class="antenna top"></div>
        <div class="antenna bottom"></div>
        <span style="position:absolute; 
        top:50%; 
        left:60px;
         transform: translateY(-50%) rotate(-90deg);
         transform-origin:center;
         font-family:'Montserrat','Poppins', sans-serif;
         font-size:12px; 
         font-weight:700;
         color:#e6e6e6; 
         white-space:nowrap;
         pointer-events:none; z-index:999;">
          LEXI
      </div>
      <div id="strike-strip"></div>
    </div>
  </div>

  <div id="match-container">
    <div class="match-stick"></div>
    <div id="match-aura"></div>
    <div id="sparks"></div>
  </div>

  <div class="content-container">
    <main class="content-dark" style="padding-top:200px;">
      <h1 class="title">You're the light to my dark life</h1>
      <p class="text-center text-sm leading-relaxed tracking-wider text-body">
        Place holder, no intro yet (My dearest,)<br><br>
        Place holder, no letter yet
      </p>
    </main>

    <main class="content-light" style="padding-top:200px;">
      <h1 class="title">You're the light to my dark life</h1>
      <p class="text-center text-sm leading-relaxed tracking-wider text-body">
        Place holder, no intro yet (My dearest,)<br><br>
        Place holder, no letter yet
      </p>
    </main>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const matchContainer = document.getElementById('match-container');
      const matchStick = document.querySelector('.match-stick');
      const matchAura = document.getElementById('match-aura');
      const animationContainer = document.getElementById('animation-container');
      const contentLight = document.querySelector('.content-light');
      const sparksContainer = document.getElementById('sparks');

      function createSpark() {
        const spark = document.createElement('div');
        spark.className = 'spark';
        const dx = (Math.random() - 0.5) * 40 + 'px';
        const dy = (-Math.random() * 30) + 'px';
        spark.style.setProperty('--dx', dx);
        spark.style.setProperty('--dy', dy);
        sparksContainer.appendChild(spark);
        setTimeout(() => { spark.remove(); }, 500);
      }

      matchContainer.classList.add('strike-animation');
      let sparkInterval = setInterval(createSpark, 50);

      matchContainer.addEventListener('animationend', (event) => {
        if (event.animationName === 'strike-match') {
          clearInterval(sparkInterval);
          matchStick.classList.add('flame-lit');
          matchAura.style.opacity = '1';
          matchContainer.classList.remove('strike-animation');
          animationContainer.style.opacity = '0';
          setTimeout(() => { animationContainer.style.display = 'none'; }, 1000);

          // LOCK MATCH IN CENTER
          const centerX = window.innerWidth / 2;
          const centerY = window.innerHeight / 2;
          matchContainer.style.transform = `translate(${centerX}px, ${centerY}px) rotate(10deg)`;

          // SET LIGHT TO CENTER
          const rect = contentLight.getBoundingClientRect();
          const lightX = rect.width / 2;
          const lightY = rect.height / 2;
          contentLight.style.setProperty('--match-x', `${lightX}px`);
          contentLight.style.setProperty('--match-y', `${lightY}px`);

          let isTouching = false;
          const updateLightPosition = (e) => {
            e.preventDefault();
            let clientX, clientY;
            if (e.touches && e.touches.length > 0) {
              if (e.type === 'touchmove' && isTouching) {
                clientX = e.touches[0].clientX;
                clientY = e.touches[0].clientY;
              } else return;
            } else if (e.type === 'mousemove') {
              clientX = e.clientX;
              clientY = e.clientY;
            } else return;

            const rect = contentLight.getBoundingClientRect();
            const mouseX = clientX - rect.left;
            const mouseY = clientY - rect.top;
            matchContainer.style.transform = `translate(${clientX}px, ${clientY}px) rotate(10deg)`;
            contentLight.style.setProperty('--match-x', `${mouseX}px`);
            contentLight.style.setProperty('--match-y', `${mouseY}px`);
          };

          const handleTouchStart = (e) => { e.preventDefault(); isTouching = true; };
          const handleTouchEnd = () => { isTouching = false; };
          
          window.addEventListener('mousemove', updateLightPosition);
          window.addEventListener('touchstart', handleTouchStart, { passive: false });
          window.addEventListener('touchmove', updateLightPosition, { passive: false });
          window.addEventListener('touchend', handleTouchEnd, { passive: false });
        }
      }, { once: true });
    });
  </script>
</body>
</html>
